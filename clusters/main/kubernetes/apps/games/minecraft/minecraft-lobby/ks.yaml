apiVersion: kustomize.toolkit.fluxcd.io/v1
kind: Kustomization
metadata:
  name: minecraft-lobby
  namespace: flux-system
spec:
  interval: 10m
  path: clusters/main/kubernetes/apps/games/minecraft/minecraft-lobby/app
  prune: true
  sourceRef:
    kind: GitRepository
    name: cluster
  targetNamespace: minecraft-lobby
  postBuild:
    substitute:
      CHART: minecraft-lobby
      NAME: minecraft-lobby
      GROUP: assets
      PROT: tcp
      SVC: minecraft-lobby-minecraft-java
      NAMESPACE: minecraft-lobby
      PORT: "25565"
      PATH: ""
