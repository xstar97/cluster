---
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Component
resources:
  - notification.yaml
replacements:
  - source:
      kind: Namespace
      fieldPath: metadata.name
    targets:
      - select:
          kind: Provider
          name: discord
        fieldPaths:
          - metadata.namespace
        options:
          create: true
      - select:
          kind: Alert
          name: discord-info
        fieldPaths:
          - metadata.namespace
        options:
          create: true
      - select:
          kind: Alert
          name: discord-error
        fieldPaths:
          - metadata.namespace
        options:
          create: true
